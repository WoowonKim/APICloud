# í¬íŒ… ë§¤ë‰´ì–¼

ApiCloud í¬íŒ… ë§¤ë‰´ì–¼ì…ë‹ˆë‹¤.

## ëª©ì°¨

1. [í”„ë¡œì íŠ¸ ê¸°ìˆ ìŠ¤íƒ](#-í”„ë¡œì íŠ¸-ê¸°ìˆ -ìŠ¤íƒ)
2. [Backend ë¹Œë“œ ê°€ì´ë“œ](#-backend-ë¹Œë“œ-ê°€ì´ë“œ)
3. [Frontend ë¹Œë“œ ê°€ì´ë“œ](#-frontend-ë¹Œë“œ-ê°€ì´ë“œ)
4. [S3 ì„¤ì •](#-amazon-s3-ì„¤ì •)

   <br>

## ğŸ”¨ í”„ë¡œì íŠ¸ ê¸°ìˆ  ìŠ¤íƒ

| êµ¬ë¶„ | ì¢…ë¥˜             | ê¸°ìˆ ìŠ¤íƒ           | ë²„ì „    |
| ---- | ---------------- | ------------------ | ------- |
| BE   | IDE              | IntelliJ IDE       | -       |
|      | Development-Java | Java JDK           | zulu 11 |
|      |                  | SpringBoot         | 2.7.4   |
|      |                  | Spring Data JPA    | -       |
|      |                  | Spring Security    | -       |
|      |                  | Spring Validation  | -       |
|      |                  | MySQL              | 8.0.30  |
|      | Build Tool       | Gradle             | -       |
|      | CI/CD            | AWS EC2            | -       |
|      |                  | Nginx              | -       |
|      |                  | Docker             | -       |
|      |                  | Jenkins            | -       |
| FE   | IDE              | Visual Studio Code | -       |
|      | Development      | React              | 3.2.13  |
|      |                  | Redux              | 4.0.2   |
| ê³µí†µ |                  | GitLab             | -       |
|      | Issue            | Jira               | -       |
|      | Communication    | Notion             | -       |
|      |                  | Matermost          | -       |

## ğŸ“ Backend ë¹Œë“œ ê°€ì´ë“œ

> ### ì‹¤í–‰

    src > main > java > com > web > apicloud > **ApicloudApplication.java** ì‹¤í–‰

> ### ë¹Œë“œ

- gradle ì„ ì‚¬ìš©í•œ ë¹Œë“œ

  - gradle ì„¤ì¹˜ê°€ ë˜ì–´ìˆì§€ ì•Šë‹¤ë©´ ì„¤ì¹˜ í›„ ë¹Œë“œ ì§„í–‰

  ```bash
  // Windows 10 í™˜ê²½
  gradlew build --exclude-task test

  // ubuntu í™˜ê²½
  chmod +x gradlew
  ./gradlew build --exclude-task test
  ```

- IDE ì„ ì‚¬ìš©í•œ ë¹Œë“œ

  - IntelliJì—ì„œ bootJar í´ë¦­

  - build/libs ì—ì„œ ìƒì„±ëœ jar íŒŒì¼ í™•ì¸

> ### DataBase

ë¡œì»¬ í™˜ê²½ì—ì„œ MySQL Workbench ì„¤ì¹˜ ë° ì‹¤í–‰

src > main > resources > application.propertiesì˜ ê°’ì„ ìˆ˜ì •í•˜ì—¬ DBì™€ ì—°ê²°

$ìœ¼ë¡œ ë³€ìˆ˜ ë°”ì¸ë”©ë˜ì–´ ìˆëŠ” ë¶€ë¶„ì„ ë¡œì»¬ ì‚¬ìš©ì í™˜ê²½ì— ë§ê²Œ ë³€ê²½

## ğŸ“ Frontend ë¹Œë“œ ê°€ì´ë“œ

> ### ì‹¤í–‰

- /frontend ë¡œ ì´ë™

- VsCodeë¡œ í”„ë¡œì íŠ¸ ì—´ê¸°
- Node_modulesë¥¼ ìœ„í•œ ê¸°ë³¸ install
  ```bash
  npm install
  ```
- npm start
  ```bash
  npm start
  ```
  > ### ë¹Œë“œ
  ```bash
  npm run build
  ```

## ğŸ–¼ Amazon S3 ì„¤ì •

> ### AWS ë¡œê·¸ì¸

AWS S3ì— ë¡œê·¸ì¸í•©ë‹ˆë‹¤.

> ### Buckets ìƒì„±

- Buckets ì´ë¦„ ì„¤ì •

  ![image](https://user-images.githubusercontent.com/64150747/201605782-1a7f5a57-1a62-41e6-be60-692e0f8cd685.png)

- ì•¡ì„¸ìŠ¤ ì°¨ë‹¨ í•´ì œ

  ![image](https://user-images.githubusercontent.com/64150747/201605885-12072207-1cf5-4288-9280-c97f9d27bf49.png)

- ìƒì„±ëœ Buckets í™•ì¸

  ![image](https://user-images.githubusercontent.com/64150747/201606117-9203e0ae-8a1b-4eaf-873f-84dc9345bf22.png)

> ### Buckets ì •ì±… ì…ë ¥

- ìƒì„±ëœ Buckets í´ë¦­ > ê¶Œí•œ > ë²„í‚· ì •ì±… í¸ì§‘

  ![image](https://user-images.githubusercontent.com/64150747/201606558-0de63fa0-b291-4aae-85c5-a609f57f2405.png)

  ë²„í‚· ARN ë³µì‚¬ í›„ ì •ì±… ìƒì„±ê¸° í´ë¦­

- ì •ì±… ìƒì„±

  ![image](https://user-images.githubusercontent.com/64150747/201606621-63dbc39e-9be5-4ce6-9980-8b23b5081766.png)

  #### Select Type of Policy : S3 Bucket Policy

  #### Effect : Allow

  #### Principal : \*

  #### Actions : GetObject, PutObject ì„ íƒ

  #### Amazon Resource Name (ARN) : {ë³µì‚¬í•œ ARN}/\*

- Add statement > Generate Policy í´ë¦­í•´ ì •ì±… ìƒì„±

  ![image](https://user-images.githubusercontent.com/64150747/201606682-ca66f3b6-e18e-4a5e-a3c3-363b19be619e.png)

- ì •ì±… í¸ì§‘

  ìƒì„±ëœ ì •ì±… ì ìš© í›„ ì €ì¥

  ![image](https://user-images.githubusercontent.com/64150747/201608977-956c6aec-1778-4ce1-984c-2812cf5d392e.png)

> ### AccessKey, SecretKey ë°œê¸‰

- ê³„ì • ë¡œê·¸ì¸ì„ í•˜ê³  ì„œë¹„ìŠ¤ ì°¾ê¸°ì—ì„œ IAM ê²€ìƒ‰

  ![image](https://user-images.githubusercontent.com/64150747/201610374-32ab7f19-690d-4295-87e3-3e7730a8cff9.png)

- ì¢Œì¸¡ ë©”ë‰´ë°” ì—ì„œ ê·¸ë£¹ í´ë¦­

  ![image](https://user-images.githubusercontent.com/64150747/201610624-bde798c7-521f-4fd5-ac18-272a6b17c19f.png)

- S3FullAccessì™€ IAMFullAccessì •ì±… ì—°ê²°

  ![image](https://user-images.githubusercontent.com/64150747/201610549-28e26d47-82fa-4969-a2e3-a6e42ba10ddb.png)

- User ìƒì„±ì„ ìœ„í•´ ì¢Œì¸¡ ë©”ë‰´ë°” ì—ì„œ ì‚¬ìš©ì í´ë¦­

- ì—‘ì„¸ìŠ¤ ìœ í˜• í”„ë¡œê·¸ë˜ë°ë°©ì‹ ì—‘ì„¸ìŠ¤ë¡œ ì²´í¬

  ![image](https://user-images.githubusercontent.com/64150747/201611432-119f0c1c-2b1b-4f71-a827-52d36655c470.png)

- ë°©ê¸ˆ ìƒì„±í•œ ê·¸ë£¹ ì„ íƒ

  ![image](https://user-images.githubusercontent.com/64150747/201611537-2d12db2b-7c0e-4ca0-85ce-f5d6e82f29f6.png)

- ë°œê¸‰ ì™„ë£Œ

  ![image](https://user-images.githubusercontent.com/64150747/201611590-7920279b-aec9-4b9f-acfb-840bf6099817.png)

- application-key.properties

```properties
#s3
s3-bucket={bucket-name}
aws-region=ap-northeast-2
aws-accessKey={aws-accessKey}
aws-secretKey={aws-secretKey}
```

application-key.properties íŒŒì¼ì— ì…ë ¥
